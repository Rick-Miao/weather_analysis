<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天气数据分析系统 - 首页</title>
    <link rel="stylesheet" href="/css/css.css">
</head>
<body>
<!-- 登录锚点 -->
<span id="login"></span>

<div class="container">
    <!-- 用户状态显示 -->
    <div class="user-status" style="display: flex; justify-content: space-between; align-items: center;">
        <!-- 网站标题 -->
        <div class="site-title">
            <h1 style="font-size: 1.5em; color: #333; margin: 0;">天气数据分析系统</h1>
        </div>

        <!-- 用户状态消息 -->
        <div th:if="${session.user == null}" class="message" style="font-size: 1.1em; color: #333;">
            游客，你好！<a href="login" style="color: #00c9a7; text-decoration: underline;">立即登录</a>
        </div>

        <!-- 登录状态容器 -->
        <div th:if="${session.user != null}" class="message" style="font-size: 1.1em; color: #00c9a7;">
            <a href="#" style="color: #00c9a7;" th:text="${session.user.nickname}"></a>，你好！
            <a href="logout" style="margin-left: 15px; color: #00c9a7;">退出登录</a>
        </div>
    </div>

    <!-- 轮播图 -->
    <div class="carousel">
        <div class="carousel-slide active">
            <img src="/images/lbt1.jpg" alt="天气轮播图1" style="width:100%; height:100%; object-fit:cover;">
        </div>
        <div class="carousel-slide">
            <img src="/images/lbt2.jpg" alt="天气轮播图2" style="width:100%; height:100%; object-fit:cover;">
        </div>

        <div class="carousel-indicators">
            <div class="carousel-indicator active"></div>
            <div class="carousel-indicator"></div>
        </div>
    </div>

    <!-- 核心功能区（示例） -->
    <div class="module">
        <h2>天气数据导入</h2>
        <p>将天气数据从HDFS, 导入hbase中weather表</p>
        <a class="btn-link" href="importData">天气数据导入</a>
    </div>

    <div class="module">
        <h2>完整天气数据导入</h2>
        <p>将所有气象站的天气数据从HDFS, 导入hbase中weather_all表</p>
        <a class="btn-link" href="importAllData">天气数据导入</a>
    </div>

    <div class="module">
        <h2>历史天气查询</h2>
        <p>你可以通过城市编号和日期查询到具体的天气信息</p>
        <a class="btn-link" href="search">进入查询页面</a>
    </div>

    <div class="module">
        <h2>历史天气汇总</h2>
        <p>你可以在这里看到每年的天气汇总表</p>
        <a class="btn-link" href="summary">进入汇总页面</a>
    </div>

    <div class="module">
        <h2>全部地区天气汇总</h2>
        <p>你可以在这里看到所有城市的天气汇总表</p>
        <a class="btn-link" href="weatherStationSummary">进入汇总页面</a>
    </div>


    <div class="module">
        <h2>七天天气预测</h2>
        <!-- 七天天气预测 -->
        <div class="seven-day-forecast">
            <div class="day-card" th:each="weather : ${weathers}">
                <h3 th:text="${weather.date}"></h3>
                <img th:if="${weather.precipitation==0}" class="day-icon" src="/images/sun.png" alt="晴">
                <img th:if="${weather.precipitation>0}" class="day-icon" src="/images/rain.png" alt="雨">
                <p th:text="${#numbers.formatDecimal(weather.minTemperature,1,'COMMA',2,'POINT')} + '/' + ${#numbers.formatDecimal(weather.maxTemperature,1,'COMMA',2,'POINT')} + '°C'"></p>
            </div>
            <a class="btn-link" href="forecast7days">进入详细页面</a>
        </div>
    </div>

    <div class="module">
        <h2>数据量统计</h2>
        <p>可以查看到每一个数据站有多少数据</p>
        <a class="btn-link" href="count">查看数据量统计</a>
    </div>
</div>
<div class="footer">
    <p>&copy; 2025 缪彭哲. 保留所有权利。</p>
</div>

<!-- CSS动画实现轮播 -->
<style>
    @keyframes fade {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    .carousel-slide {
        animation: fade 0.5s ease-in-out;
    }

    .carousel-slide:nth-child(1) {
        animation-delay: 0s;
    }

    .carousel-slide:nth-child(2) {
        animation-delay: 5s;
    }
</style>
</body>
</html>